<rul:Rules xmlns:rul="http://www.verisk.com/iso/erc/Rule">
	<rul:Rule Name="InitializeRuleSet" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence />
	</rul:Rule>
	<rul:Rule Name="CalculateTotalPremium" Type="decimal" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:If>
			<rul:Test>
				<rul:And>
					<rul:Equal>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@PremiumIndicator" Order="DataDefInputParamConstant" />
						<rul:Constant Type="integer">1</rul:Constant>
					</rul:Equal>
					<rul:NotEqual>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@Premium" Order="DataDefInputParamConstant" />
						<rul:Constant Type="decimal">0</rul:Constant>
					</rul:NotEqual>
				</rul:And>
			</rul:Test>
			<rul:Then>
				<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@Premium" Order="DataDefInputParamConstant" />
			</rul:Then>
			<rul:Else>
				<rul:Constant Type="decimal">0</rul:Constant>
			</rul:Else>
		</rul:If>
	</rul:Rule>
	<rul:Rule Name="ErcRate" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:Constant Type="decimal" ToDataDef="@BasicGroupIStructureCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BasicGroupIPrsnlPropCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BasicGroupISpecialClassCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@MaxBasicGroupICauseOfLossAdjmtRate">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@MaxBroadRate">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@MaxSpecialRate">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@MaxEQCauseOfLossAdjmtRate">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BasicGroupIIStructureCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BasicGroupIIPrsnlPropCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BasicGroupIISpecialClassCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BroadStructureCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BroadPrsnlPropCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@BroadSpecialClassCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@SpecialStructureCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@SpecialPrsnlPropCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@SpecialSpecialClassCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@EQStructureCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@EQPrsnlPropCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@EQSpecialClassCalc">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@TotFullValTimesBasicGroupIICauseOfLossAdjmt">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@TotFullValTimesBasicGroupICauseOfLossAdjmt">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@TotFullValTimesBroadRate">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@TotFullValTimesEQCauseOfLossAdjmt">0.0</rul:Constant>
			<rul:Constant Type="decimal" ToDataDef="@TotFullValTimesSpecialRate">0.0</rul:Constant>
			<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetAverageAndHighestRatesAndFactors" ClearCache="true" />
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetAverageAndHighestRatesAndFactors" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<!--Logic for coinsuranceFactor moved to be inline where used.-->
			<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetAverageRates" ClearCache="true" />
			<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetHighestRates" ClearCache="true" />
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:If>
				<rul:Test>
					<rul:Equal>
						<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@TypeOfBlanketRating" Order="DataDefInputParamConstant" />
						<rul:Constant Type="string">Average</rul:Constant>
					</rul:Equal>
				</rul:Test>
				<rul:Then>
					<rul:Sequence>
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetCounters" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetStructureCalcsForAverageRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetPersPropCalcsForAverageRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetSpecialClassCalcsForAverageRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetTotFullValTimesBasicGroupICauseOfLossAdjmt" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetTotFullValTimesBasicGroupIICauseOfLossAdjmt" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetTotFullValTimesBroadRate" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetTotFullValTimesSpecialRate" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetTotFullValTimesEQCauseOfLossAdjmt" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetBasicGroupIAvgRateForAverageRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetBasicGroupIIAvgRateForAverageRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetBroadAvgRateForAverageRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetSpecialAvgRateForAverageRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetEQAvgRateForAverageRates" ClearCache="true" />
					</rul:Sequence>
				</rul:Then>
			</rul:If>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetCounters" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="integer" Param="CounterIncrementParam">
					<rul:Sum>
						<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
							<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
								<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
									<rul:If>
										<rul:Test>
											<rul:GreaterThanOrEqual>
												<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@PrsnlPropOnlyBlktCounter" Order="DataDefInputParamConstant" />
												<rul:Constant Type="integer">1</rul:Constant>
											</rul:GreaterThanOrEqual>
										</rul:Test>
										<rul:Then>
											<rul:Constant Type="integer">1</rul:Constant>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:ForEach>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@Counter" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="integer" ToDataDef="@Counter" FromParam="CounterIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetStructureCalcsForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BasicGroupIStructureCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullBldgValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupILOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIStructureCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BasicGroupIStructureCalc" FromParam="BasicGroupIStructureCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BasicGroupIIStructureCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullBldgValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupIILOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIIStructureCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BasicGroupIIStructureCalc" FromParam="BasicGroupIIStructureCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BroadStructureCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullBldgValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadRate" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBroadLOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadStructureCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BroadStructureCalc" FromParam="BroadStructureCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="SpecialStructureCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullBldgValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialStructureCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@SpecialStructureCalc" FromParam="SpecialStructureCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="EQStructureCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Or>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
													</rul:Equal>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
													</rul:Equal>
												</rul:Or>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullBldgValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQStructureCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@EQStructureCalc" FromParam="EQStructureCalcIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetPersPropCalcsForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<!--Logic for ppFullValueToUse moved to be inline where used.-->
			<!--Logic for ppFullValueToUse moved to be inline where used.-->
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BasicGroupIPrsnlPropCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="ISOSSINodePeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Sum>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:And>
																					<rul:NotEqual>
																						<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																						<rul:Constant Type="dateTime">01/01/0001</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="dateTime" FromDataDef="@PeriodFrom" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:Equal>
																							<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																							<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																						</rul:Equal>
																					</rul:Test>
																					<rul:Then>
																						<rul:If>
																							<rul:Test>
																								<rul:IsNotNull>
																									<rul:Value Type="decimal" FromDataDef="@BasicGroupILOIFactor" />
																								</rul:IsNotNull>
																							</rul:Test>
																							<rul:Then>
																								<rul:Product DecimalPlaces="0">
																									<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupILOIFactor" Order="DataDefInputParamConstant" />
																								</rul:Product>
																							</rul:Then>
																						</rul:If>
																					</rul:Then>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
															</rul:Sum>
														</rul:Then>
														<rul:Else>
															<rul:Product DecimalPlaces="0">
																<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupILOIFactor" Order="DataDefInputParamConstant" />
															</rul:Product>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIPrsnlPropCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BasicGroupIPrsnlPropCalc" FromParam="BasicGroupIPrsnlPropCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BasicGroupIIPrsnlPropCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="ISOSSINodePeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Sum>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:And>
																					<rul:NotEqual>
																						<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																						<rul:Constant Type="dateTime">01/01/0001</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="dateTime" FromDataDef="@PeriodFrom" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:Equal>
																							<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																							<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																						</rul:Equal>
																					</rul:Test>
																					<rul:Then>
																						<rul:If>
																							<rul:Test>
																								<rul:IsNotNull>
																									<rul:Value Type="decimal" FromDataDef="@BasicGroupIILOIFactor" />
																								</rul:IsNotNull>
																							</rul:Test>
																							<rul:Then>
																								<rul:Product DecimalPlaces="0">
																									<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIILOIFactor" Order="DataDefInputParamConstant" />
																								</rul:Product>
																							</rul:Then>
																						</rul:If>
																					</rul:Then>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
															</rul:Sum>
														</rul:Then>
														<rul:Else>
															<rul:Product DecimalPlaces="0">
																<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupIILOIFactor" Order="DataDefInputParamConstant" />
															</rul:Product>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIIPrsnlPropCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BasicGroupIIPrsnlPropCalc" FromParam="BasicGroupIIPrsnlPropCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BroadPrsnlPropCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="ISOSSINodePeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Sum>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:And>
																					<rul:NotEqual>
																						<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																						<rul:Constant Type="dateTime">01/01/0001</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="dateTime" FromDataDef="@PeriodFrom" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:Equal>
																							<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																							<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																						</rul:Equal>
																					</rul:Test>
																					<rul:Then>
																						<rul:If>
																							<rul:Test>
																								<rul:IsNotNull>
																									<rul:Value Type="decimal" FromDataDef="@BroadLOIFactor" />
																								</rul:IsNotNull>
																							</rul:Test>
																							<rul:Then>
																								<rul:Product DecimalPlaces="0">
																									<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BroadRate" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadLOIFactor" Order="DataDefInputParamConstant" />
																								</rul:Product>
																							</rul:Then>
																						</rul:If>
																					</rul:Then>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
															</rul:Sum>
														</rul:Then>
														<rul:Else>
															<rul:Product DecimalPlaces="0">
																<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadRate" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBroadLOIFactor" Order="DataDefInputParamConstant" />
															</rul:Product>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadPrsnlPropCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BroadPrsnlPropCalc" FromParam="BroadPrsnlPropCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="SpecialPrsnlPropCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="ISOSSINodePeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Sum>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:And>
																					<rul:NotEqual>
																						<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																						<rul:Constant Type="dateTime">01/01/0001</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="dateTime" FromDataDef="@PeriodFrom" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:Equal>
																							<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																							<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																						</rul:Equal>
																					</rul:Test>
																					<rul:Then>
																						<rul:If>
																							<rul:Test>
																								<rul:IsNotNull>
																									<rul:Value Type="decimal" FromDataDef="@SpecialLOIFactor" />
																								</rul:IsNotNull>
																							</rul:Test>
																							<rul:Then>
																								<rul:If>
																									<rul:Test>
																										<rul:And>
																											<rul:Exist AtInputDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards" />
																											<rul:IsNotNull>
																												<rul:Value Type="integer" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialTheftExclusionIndicator" />
																											</rul:IsNotNull>
																											<rul:Equal>
																												<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialTheftExclusionIndicator" Order="DataDefInputParamConstant" />
																												<rul:Constant Type="integer">0</rul:Constant>
																											</rul:Equal>
																										</rul:And>
																									</rul:Test>
																									<rul:Then>
																										<rul:Choose>
																											<rul:When>
																												<rul:Test>
																													<rul:And>
																														<rul:IsNotNull>
																															<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																														</rul:IsNotNull>
																														<rul:NotEqual>
																															<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																															<rul:Constant Type="string">Not Applicable</rul:Constant>
																														</rul:NotEqual>
																														<rul:IsNotNull>
																															<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																														</rul:IsNotNull>
																														<rul:IsNotNull>
																															<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																														</rul:IsNotNull>
																														<rul:NotEqual>
																															<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																															<rul:Constant Type="string">Not Applicable</rul:Constant>
																														</rul:NotEqual>
																														<rul:IsNotNull>
																															<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																														</rul:IsNotNull>
																													</rul:And>
																												</rul:Test>
																												<rul:Then>
																													<rul:Product DecimalPlaces="0">
																														<rul:Product DecimalPlaces="3">
																															<rul:Product DecimalPlaces="3">
																																<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" Order="DataDefInputParamConstant" />
																															</rul:Product>
																															<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																														</rul:Product>
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																													</rul:Product>
																												</rul:Then>
																											</rul:When>
																											<rul:When>
																												<rul:Test>
																													<rul:And>
																														<rul:Or>
																															<rul:IsNull>
																																<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																															</rul:IsNull>
																															<rul:Equal>
																																<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																																<rul:Constant Type="string">Not Applicable</rul:Constant>
																															</rul:Equal>
																														</rul:Or>
																														<rul:IsNotNull>
																															<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																														</rul:IsNotNull>
																														<rul:NotEqual>
																															<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																															<rul:Constant Type="string">Not Applicable</rul:Constant>
																														</rul:NotEqual>
																														<rul:IsNotNull>
																															<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																														</rul:IsNotNull>
																													</rul:And>
																												</rul:Test>
																												<rul:Then>
																													<rul:Product DecimalPlaces="0">
																														<rul:Product DecimalPlaces="3">
																															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																															<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																															<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																														</rul:Product>
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																													</rul:Product>
																												</rul:Then>
																											</rul:When>
																											<rul:When>
																												<rul:Test>
																													<rul:And>
																														<rul:IsNotNull>
																															<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																														</rul:IsNotNull>
																														<rul:NotEqual>
																															<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																															<rul:Constant Type="string">Not Applicable</rul:Constant>
																														</rul:NotEqual>
																														<rul:IsNotNull>
																															<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																														</rul:IsNotNull>
																														<rul:Or>
																															<rul:IsNull>
																																<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																															</rul:IsNull>
																															<rul:Equal>
																																<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																																<rul:Constant Type="string">Not Applicable</rul:Constant>
																															</rul:Equal>
																														</rul:Or>
																													</rul:And>
																												</rul:Test>
																												<rul:Then>
																													<rul:Product DecimalPlaces="0">
																														<rul:Product DecimalPlaces="3">
																															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																															<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																															<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																														</rul:Product>
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																													</rul:Product>
																												</rul:Then>
																											</rul:When>
																											<rul:Otherwise>
																												<rul:Product>
																													<rul:Product DecimalPlaces="3">
																														<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																													</rul:Product>
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																												</rul:Product>
																											</rul:Otherwise>
																										</rul:Choose>
																									</rul:Then>
																									<rul:Else>
																										<rul:Product>
																											<rul:Product DecimalPlaces="3">
																												<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																											</rul:Product>
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																										</rul:Product>
																									</rul:Else>
																								</rul:If>
																							</rul:Then>
																						</rul:If>
																					</rul:Then>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
															</rul:Sum>
														</rul:Then>
														<rul:Else>
															<rul:If>
																<rul:Test>
																	<rul:And>
																		<rul:Exist AtInputDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards" />
																		<rul:IsNotNull>
																			<rul:Value Type="integer" FromDataDef="@SpecialTheftExclusionIndicator" />
																		</rul:IsNotNull>
																		<rul:Equal>
																			<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@SpecialTheftExclusionIndicator" Order="DataDefInputParamConstant" />
																			<rul:Constant Type="integer">0</rul:Constant>
																		</rul:Equal>
																	</rul:And>
																</rul:Test>
																<rul:Then>
																	<rul:Choose>
																		<rul:When>
																			<rul:Test>
																				<rul:And>
																					<rul:IsNotNull>
																						<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																					</rul:IsNotNull>
																					<rul:NotEqual>
																						<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																						<rul:Constant Type="string">Not Applicable</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																					</rul:IsNotNull>
																					<rul:IsNotNull>
																						<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																					</rul:IsNotNull>
																					<rul:NotEqual>
																						<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																						<rul:Constant Type="string">Not Applicable</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:Product DecimalPlaces="0">
																					<rul:Product DecimalPlaces="3">
																						<rul:Product DecimalPlaces="3">
																							<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" Order="DataDefInputParamConstant" />
																						</rul:Product>
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																					</rul:Product>
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Then>
																		</rul:When>
																		<rul:When>
																			<rul:Test>
																				<rul:And>
																					<rul:Or>
																						<rul:IsNull>
																							<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																						</rul:IsNull>
																						<rul:Equal>
																							<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																							<rul:Constant Type="string">Not Applicable</rul:Constant>
																						</rul:Equal>
																					</rul:Or>
																					<rul:IsNotNull>
																						<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																					</rul:IsNotNull>
																					<rul:NotEqual>
																						<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																						<rul:Constant Type="string">Not Applicable</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:Product DecimalPlaces="0">
																					<rul:Product DecimalPlaces="3">
																						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																					</rul:Product>
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Then>
																		</rul:When>
																		<rul:When>
																			<rul:Test>
																				<rul:And>
																					<rul:IsNotNull>
																						<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																					</rul:IsNotNull>
																					<rul:NotEqual>
																						<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																						<rul:Constant Type="string">Not Applicable</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																					</rul:IsNotNull>
																					<rul:Or>
																						<rul:IsNull>
																							<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																						</rul:IsNull>
																						<rul:Equal>
																							<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																							<rul:Constant Type="string">Not Applicable</rul:Constant>
																						</rul:Equal>
																					</rul:Or>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:Product DecimalPlaces="0">
																					<rul:Product DecimalPlaces="3">
																						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" Order="DataDefInputParamConstant" />
																					</rul:Product>
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Then>
																		</rul:When>
																		<rul:Otherwise>
																			<rul:Product DecimalPlaces="0">
																				<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																				<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																				<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																				<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																				<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																				<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																				<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																			</rul:Product>
																		</rul:Otherwise>
																	</rul:Choose>
																</rul:Then>
																<rul:Else>
																	<rul:Product DecimalPlaces="0">
																		<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																	</rul:Product>
																</rul:Else>
															</rul:If>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialPrsnlPropCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@SpecialPrsnlPropCalc" FromParam="SpecialPrsnlPropCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="EQPrsnlPropCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="ISOSSINodePeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Sum>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:And>
																					<rul:NotEqual>
																						<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																						<rul:Constant Type="dateTime">01/01/0001</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="dateTime" FromDataDef="@PeriodFrom" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:Equal>
																							<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																							<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																						</rul:Equal>
																					</rul:Test>
																					<rul:Then>
																						<rul:If>
																							<rul:Test>
																								<rul:And>
																									<rul:Or>
																										<rul:Equal>
																											<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																											<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
																										</rul:Equal>
																										<rul:Equal>
																											<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																											<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
																										</rul:Equal>
																									</rul:Or>
																									<rul:Equal>
																										<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQCovIndicator" Order="DataDefInputParamConstant" />
																										<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
																									</rul:Equal>
																									<rul:Equal>
																										<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
																										<rul:Value Type="integer" FromParam="BlktIDNumParam" />
																									</rul:Equal>
																								</rul:And>
																							</rul:Test>
																							<rul:Then>
																								<rul:Product DecimalPlaces="0">
																									<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQDeductibleFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																									<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																								</rul:Product>
																							</rul:Then>
																						</rul:If>
																					</rul:Then>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
															</rul:Sum>
														</rul:Then>
														<rul:Else>
															<rul:If>
																<rul:Test>
																	<rul:And>
																		<rul:Or>
																			<rul:Equal>
																				<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																				<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
																			</rul:Equal>
																			<rul:Equal>
																				<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																				<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
																			</rul:Equal>
																		</rul:Or>
																		<rul:Equal>
																			<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
																			<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
																		</rul:Equal>
																		<rul:Equal>
																			<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
																			<rul:Value Type="integer" FromParam="BlktIDNumParam" />
																		</rul:Equal>
																	</rul:And>
																</rul:Test>
																<rul:Then>
																	<rul:Product DecimalPlaces="0">
																		<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																	</rul:Product>
																</rul:Then>
															</rul:If>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQPrsnlPropCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@EQPrsnlPropCalc" FromParam="EQPrsnlPropCalcIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetSpecialClassCalcsForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BasicGroupISpecialClassCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullSpecialClassValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupISpecialClassCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BasicGroupISpecialClassCalc" FromParam="BasicGroupISpecialClassCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BasicGroupIISpecialClassCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullSpecialClassValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIISpecialClassCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BasicGroupIISpecialClassCalc" FromParam="BasicGroupIISpecialClassCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="BroadSpecialClassCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullSpecialClassValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadRate" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadSpecialClassCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@BroadSpecialClassCalc" FromParam="BroadSpecialClassCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="SpecialSpecialClassCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullSpecialClassValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialRate" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialSpecialClassCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@SpecialSpecialClassCalc" FromParam="SpecialSpecialClassCalcIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="EQSpecialClassCalcIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Or>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
													</rul:Equal>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
													</rul:Equal>
												</rul:Or>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="0">
												<rul:Convert Type="decimal">
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullSpecialClassValue" Order="DataDefInputParamConstant" />
												</rul:Convert>
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQSpecialClassCalc" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@EQSpecialClassCalc" FromParam="EQSpecialClassCalcIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetTotFullValTimesBasicGroupICauseOfLossAdjmt" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:Sum ToDataDef="@TotFullValTimesBasicGroupICauseOfLossAdjmt">
				<rul:Value Type="decimal" FromDataDef="@BasicGroupIStructureCalc" />
				<rul:Value Type="decimal" FromDataDef="@BasicGroupIPrsnlPropCalc" />
				<rul:Value Type="decimal" FromDataDef="@BasicGroupISpecialClassCalc" />
			</rul:Sum>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetTotFullValTimesBasicGroupIICauseOfLossAdjmt" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:Sum ToDataDef="@TotFullValTimesBasicGroupIICauseOfLossAdjmt">
				<rul:Value Type="decimal" FromDataDef="@BasicGroupIIStructureCalc" />
				<rul:Value Type="decimal" FromDataDef="@BasicGroupIIPrsnlPropCalc" />
				<rul:Value Type="decimal" FromDataDef="@BasicGroupIISpecialClassCalc" />
			</rul:Sum>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetTotFullValTimesBroadRate" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:Sum ToDataDef="@TotFullValTimesBroadRate">
				<rul:Value Type="decimal" FromDataDef="@BroadStructureCalc" />
				<rul:Value Type="decimal" FromDataDef="@BroadPrsnlPropCalc" />
				<rul:Value Type="decimal" FromDataDef="@BroadSpecialClassCalc" />
			</rul:Sum>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetTotFullValTimesSpecialRate" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:Sum ToDataDef="@TotFullValTimesSpecialRate">
				<rul:Value Type="decimal" FromDataDef="@SpecialStructureCalc" />
				<rul:Value Type="decimal" FromDataDef="@SpecialPrsnlPropCalc" />
				<rul:Value Type="decimal" FromDataDef="@SpecialSpecialClassCalc" />
			</rul:Sum>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetTotFullValTimesEQCauseOfLossAdjmt" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:Sum ToDataDef="@TotFullValTimesEQCauseOfLossAdjmt">
				<rul:Value Type="decimal" FromDataDef="@EQStructureCalc" />
				<rul:Value Type="decimal" FromDataDef="@EQPrsnlPropCalc" />
				<rul:Value Type="decimal" FromDataDef="@EQSpecialClassCalc" />
			</rul:Sum>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetBasicGroupIAvgRateForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:If>
				<rul:Test>
					<rul:NotEqual>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
						<rul:Constant Type="integer">0</rul:Constant>
					</rul:NotEqual>
				</rul:Test>
				<rul:Then>
					<rul:Sequence>
						<rul:WithArgs>
							<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
								<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
							</rul:Arg>
							<rul:Product ToDataDef="@BasicGroupIAvgRate" DecimalPlaces="3">
								<rul:Divide>
									<rul:Value Type="decimal" FromDataDef="@TotFullValTimesBasicGroupICauseOfLossAdjmt" />
									<rul:Value Type="integer" FromDataDef="@TotalFullValueAndPeakAmount" />
								</rul:Divide>
								<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
							</rul:Product>
						</rul:WithArgs>
					</rul:Sequence>
				</rul:Then>
				<rul:Else>
					<rul:Sequence>
						<rul:Constant Type="decimal" ToDataDef="@BasicGroupIAvgRate">0.0</rul:Constant>
					</rul:Sequence>
				</rul:Else>
			</rul:If>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetBasicGroupIIAvgRateForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:If>
				<rul:Test>
					<rul:NotEqual>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
						<rul:Constant Type="integer">0</rul:Constant>
					</rul:NotEqual>
				</rul:Test>
				<rul:Then>
					<rul:Sequence>
						<rul:WithArgs>
							<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
								<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
							</rul:Arg>
							<rul:Product ToDataDef="@BasicGroupIIAvgRate" DecimalPlaces="3">
								<rul:Divide>
									<rul:Value Type="decimal" FromDataDef="@TotFullValTimesBasicGroupIICauseOfLossAdjmt" />
									<rul:Value Type="integer" FromDataDef="@TotalFullValueAndPeakAmount" />
								</rul:Divide>
								<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
							</rul:Product>
						</rul:WithArgs>
					</rul:Sequence>
				</rul:Then>
				<rul:Else>
					<rul:Sequence>
						<rul:Constant Type="decimal" ToDataDef="@BasicGroupIIAvgRate">0.0</rul:Constant>
					</rul:Sequence>
				</rul:Else>
			</rul:If>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetBroadAvgRateForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:If>
				<rul:Test>
					<rul:NotEqual>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
						<rul:Constant Type="integer">0</rul:Constant>
					</rul:NotEqual>
				</rul:Test>
				<rul:Then>
					<rul:Sequence>
						<rul:WithArgs>
							<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
								<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
							</rul:Arg>
							<rul:Product ToDataDef="@BroadAvgRate" DecimalPlaces="3">
								<rul:Divide>
									<rul:Value Type="decimal" FromDataDef="@TotFullValTimesBroadRate" />
									<rul:Value Type="integer" FromDataDef="@TotalFullValueAndPeakAmount" />
								</rul:Divide>
								<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
							</rul:Product>
						</rul:WithArgs>
					</rul:Sequence>
				</rul:Then>
				<rul:Else>
					<rul:Sequence>
						<rul:Constant Type="decimal" ToDataDef="@BroadAvgRate">0.0</rul:Constant>
					</rul:Sequence>
				</rul:Else>
			</rul:If>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetSpecialAvgRateForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:If>
				<rul:Test>
					<rul:NotEqual>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
						<rul:Constant Type="integer">0</rul:Constant>
					</rul:NotEqual>
				</rul:Test>
				<rul:Then>
					<rul:Sequence>
						<rul:WithArgs>
							<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
								<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
							</rul:Arg>
							<rul:Product ToDataDef="@SpecialAvgRate" DecimalPlaces="3">
								<rul:Divide>
									<rul:Value Type="decimal" FromDataDef="@TotFullValTimesSpecialRate" />
									<rul:Value Type="integer" FromDataDef="@TotalFullValueAndPeakAmount" />
								</rul:Divide>
								<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
							</rul:Product>
						</rul:WithArgs>
					</rul:Sequence>
				</rul:Then>
				<rul:Else>
					<rul:Sequence>
						<rul:Constant Type="decimal" ToDataDef="@SpecialAvgRate">0.0</rul:Constant>
					</rul:Sequence>
				</rul:Else>
			</rul:If>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetEQAvgRateForAverageRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:If>
				<rul:Test>
					<rul:NotEqual>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
						<rul:Constant Type="integer">0</rul:Constant>
					</rul:NotEqual>
				</rul:Test>
				<rul:Then>
					<rul:Sequence>
						<rul:WithArgs>
							<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
								<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
							</rul:Arg>
							<rul:Product ToDataDef="@EQAvgRate" DecimalPlaces="3">
								<rul:Divide>
									<rul:Value Type="decimal" FromDataDef="@TotFullValTimesEQCauseOfLossAdjmt" />
									<rul:Value Type="integer" FromDataDef="@TotalFullValueAndPeakAmount" />
								</rul:Divide>
								<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
							</rul:Product>
						</rul:WithArgs>
					</rul:Sequence>
				</rul:Then>
				<rul:Else>
					<rul:Sequence>
						<rul:Constant Type="decimal" ToDataDef="@EQAvgRate">0.0</rul:Constant>
					</rul:Sequence>
				</rul:Else>
			</rul:If>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:If>
				<rul:Test>
					<rul:Equal>
						<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@TypeOfBlanketRating" Order="DataDefInputParamConstant" />
						<rul:Constant Type="string">Highest</rul:Constant>
					</rul:Equal>
				</rul:Test>
				<rul:Then>
					<rul:Sequence>
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetStructureCalcsForHighestRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetPersPropCalcsForHighestRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetSpecialClassCalcsForHighestRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetBasicGroupIAvgRateForHighestRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetBasicGroupIIAvgRateForHighestRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetBroadAvgRateForHighestRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetSpecialAvgRateForHighestRates" ClearCache="true" />
						<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetEQAvgRateForHighestRates" ClearCache="true" />
					</rul:Sequence>
				</rul:Then>
			</rul:If>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetStructureCalcsForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBasicGroupICauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupILOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBasicGroupICauseOfLossAdjmtRate" FromParam="MaxBasicGroupICauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBasicGroupIICauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupIILOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate" FromParam="MaxBasicGroupIICauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBroadRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadRate" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBroadLOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBroadRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBroadRate" FromParam="MaxBroadRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxSpecialRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MultiResidentialPropSpecialCreditFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxSpecialRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxSpecialRate" FromParam="MaxSpecialRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxEQCauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Or>
															<rul:Equal>
																<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
															</rul:Equal>
															<rul:Equal>
																<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
															</rul:Equal>
														</rul:Or>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:Product DecimalPlaces="3">
														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleFactor" Order="DataDefInputParamConstant" />
														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
													</rul:Product>
												</rul:Then>
											</rul:If>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxEQCauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxEQCauseOfLossAdjmtRate" FromParam="MaxEQCauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetPersPropCalcsForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBasicGroupICauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Max>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:Equal>
																					<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																					<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																				</rul:Equal>
																			</rul:Test>
																			<rul:Then>
																				<rul:Product DecimalPlaces="3">
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupILOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
																<rul:Constant Type="decimal">0</rul:Constant>
															</rul:Max>
														</rul:Then>
														<rul:Else>
															<rul:Product DecimalPlaces="3">
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupILOIFactor" Order="DataDefInputParamConstant" />
															</rul:Product>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBasicGroupICauseOfLossAdjmtRate" FromParam="MaxBasicGroupICauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBasicGroupIICauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Max>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:Equal>
																					<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																					<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																				</rul:Equal>
																			</rul:Test>
																			<rul:Then>
																				<rul:Product DecimalPlaces="3">
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIILOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
																<rul:Constant Type="decimal">0</rul:Constant>
															</rul:Max>
														</rul:Then>
														<rul:Else>
															<rul:Product DecimalPlaces="3">
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBasicGroupIILOIFactor" Order="DataDefInputParamConstant" />
															</rul:Product>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate" FromParam="MaxBasicGroupIICauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBroadRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Max>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:Equal>
																					<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																					<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																				</rul:Equal>
																			</rul:Test>
																			<rul:Then>
																				<rul:Product DecimalPlaces="3">
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@BroadRate" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadLOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
																<rul:Constant Type="decimal">0</rul:Constant>
															</rul:Max>
														</rul:Then>
														<rul:Else>
															<rul:Product DecimalPlaces="3">
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadRate" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktBroadLOIFactor" Order="DataDefInputParamConstant" />
															</rul:Product>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBroadRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBroadRate" FromParam="MaxBroadRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxSpecialRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Max>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:Equal>
																					<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																					<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																				</rul:Equal>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:And>
																							<rul:Exist AtInputDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards" />
																							<rul:IsNotNull>
																								<rul:Value Type="integer" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialTheftExclusionIndicator" />
																							</rul:IsNotNull>
																							<rul:Equal>
																								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialTheftExclusionIndicator" Order="DataDefInputParamConstant" />
																								<rul:Constant Type="integer">0</rul:Constant>
																							</rul:Equal>
																						</rul:And>
																					</rul:Test>
																					<rul:Then>
																						<rul:If>
																							<rul:Test>
																								<rul:IsNotNull>
																									<rul:Value Type="decimal" FromDataDef="@SpecialLOIFactor" />
																								</rul:IsNotNull>
																							</rul:Test>
																							<rul:Then>
																								<rul:Choose>
																									<rul:When>
																										<rul:Test>
																											<rul:And>
																												<rul:IsNotNull>
																													<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																												</rul:IsNotNull>
																												<rul:NotEqual>
																													<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																													<rul:Constant Type="string">Not Applicable</rul:Constant>
																												</rul:NotEqual>
																												<rul:IsNotNull>
																													<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																												</rul:IsNotNull>
																												<rul:IsNotNull>
																													<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																												</rul:IsNotNull>
																												<rul:NotEqual>
																													<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																													<rul:Constant Type="string">Not Applicable</rul:Constant>
																												</rul:NotEqual>
																												<rul:IsNotNull>
																													<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																												</rul:IsNotNull>
																											</rul:And>
																										</rul:Test>
																										<rul:Then>
																											<rul:Product DecimalPlaces="3">
																												<rul:Product DecimalPlaces="3">
																													<rul:Product DecimalPlaces="3">
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																														<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" Order="DataDefInputParamConstant" />
																													</rul:Product>
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																												</rul:Product>
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																											</rul:Product>
																										</rul:Then>
																									</rul:When>
																									<rul:When>
																										<rul:Test>
																											<rul:And>
																												<rul:IsNotNull>
																													<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																												</rul:IsNotNull>
																												<rul:NotEqual>
																													<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																													<rul:Constant Type="string">Not Applicable</rul:Constant>
																												</rul:NotEqual>
																												<rul:IsNotNull>
																													<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																												</rul:IsNotNull>
																												<rul:Or>
																													<rul:IsNull>
																														<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																													</rul:IsNull>
																													<rul:Equal>
																														<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																														<rul:Constant Type="string">Not Applicable</rul:Constant>
																													</rul:Equal>
																												</rul:Or>
																											</rul:And>
																										</rul:Test>
																										<rul:Then>
																											<rul:Product DecimalPlaces="3">
																												<rul:Product DecimalPlaces="3">
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" Order="DataDefInputParamConstant" />
																												</rul:Product>
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																											</rul:Product>
																										</rul:Then>
																									</rul:When>
																									<rul:When>
																										<rul:Test>
																											<rul:And>
																												<rul:Or>
																													<rul:IsNull>
																														<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																													</rul:IsNull>
																													<rul:Equal>
																														<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																														<rul:Constant Type="string">Not Applicable</rul:Constant>
																													</rul:Equal>
																												</rul:Or>
																												<rul:IsNotNull>
																													<rul:Value Type="string" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																												</rul:IsNotNull>
																												<rul:NotEqual>
																													<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																													<rul:Constant Type="string">Not Applicable</rul:Constant>
																												</rul:NotEqual>
																												<rul:IsNotNull>
																													<rul:Value Type="decimal" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																												</rul:IsNotNull>
																											</rul:And>
																										</rul:Test>
																										<rul:Then>
																											<rul:Product DecimalPlaces="3">
																												<rul:Product DecimalPlaces="3">
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																													<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																												</rul:Product>
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																											</rul:Product>
																										</rul:Then>
																									</rul:When>
																									<rul:Otherwise>
																										<rul:Product DecimalPlaces="3">
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																											<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																										</rul:Product>
																									</rul:Otherwise>
																								</rul:Choose>
																							</rul:Then>
																						</rul:If>
																					</rul:Then>
																					<rul:Else>
																						<rul:Product DecimalPlaces="3">
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialLOIFactor" Order="DataDefInputParamConstant" />
																						</rul:Product>
																					</rul:Else>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
																<rul:Constant Type="decimal">0</rul:Constant>
															</rul:Max>
														</rul:Then>
														<rul:Else>
															<rul:If>
																<rul:Test>
																	<rul:And>
																		<rul:Exist AtInputDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards" />
																		<rul:IsNotNull>
																			<rul:Value Type="integer" FromDataDef="@SpecialTheftExclusionIndicator" />
																		</rul:IsNotNull>
																		<rul:Equal>
																			<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@SpecialTheftExclusionIndicator" Order="DataDefInputParamConstant" />
																			<rul:Constant Type="integer">0</rul:Constant>
																		</rul:Equal>
																	</rul:And>
																</rul:Test>
																<rul:Then>
																	<rul:Sum>
																		<rul:Choose>
																			<rul:When>
																				<rul:Test>
																					<rul:And>
																						<rul:IsNotNull>
																							<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																						</rul:IsNotNull>
																						<rul:NotEqual>
																							<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																							<rul:Constant Type="string">Not Applicable</rul:Constant>
																						</rul:NotEqual>
																						<rul:IsNotNull>
																							<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																						</rul:IsNotNull>
																						<rul:IsNotNull>
																							<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																						</rul:IsNotNull>
																						<rul:NotEqual>
																							<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																							<rul:Constant Type="string">Not Applicable</rul:Constant>
																						</rul:NotEqual>
																						<rul:IsNotNull>
																							<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																						</rul:IsNotNull>
																					</rul:And>
																				</rul:Test>
																				<rul:Then>
																					<rul:Product DecimalPlaces="3">
																						<rul:Product DecimalPlaces="3">
																							<rul:Product DecimalPlaces="3">
																								<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																								<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" Order="DataDefInputParamConstant" />
																							</rul:Product>
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																						</rul:Product>
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																					</rul:Product>
																				</rul:Then>
																			</rul:When>
																			<rul:When>
																				<rul:Test>
																					<rul:And>
																						<rul:IsNotNull>
																							<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																						</rul:IsNotNull>
																						<rul:NotEqual>
																							<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																							<rul:Constant Type="string">Not Applicable</rul:Constant>
																						</rul:NotEqual>
																						<rul:IsNotNull>
																							<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" />
																						</rul:IsNotNull>
																						<rul:Or>
																							<rul:IsNull>
																								<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																							</rul:IsNull>
																							<rul:Equal>
																								<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																								<rul:Constant Type="string">Not Applicable</rul:Constant>
																							</rul:Equal>
																						</rul:Or>
																					</rul:And>
																				</rul:Test>
																				<rul:Then>
																					<rul:Product DecimalPlaces="3">
																						<rul:Product DecimalPlaces="3">
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@WatchmanCreditFactor" Order="DataDefInputParamConstant" />
																						</rul:Product>
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																					</rul:Product>
																				</rul:Then>
																			</rul:When>
																		</rul:Choose>
																		<rul:If>
																			<rul:Test>
																				<rul:And>
																					<rul:Or>
																						<rul:IsNull>
																							<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" />
																						</rul:IsNull>
																						<rul:Equal>
																							<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@TypeOfWatchmanSrvc" Order="DataDefInputParamConstant" />
																							<rul:Constant Type="string">Not Applicable</rul:Constant>
																						</rul:Equal>
																					</rul:Or>
																					<rul:IsNotNull>
																						<rul:Value Type="string" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" />
																					</rul:IsNotNull>
																					<rul:NotEqual>
																						<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmSystemType" Order="DataDefInputParamConstant" />
																						<rul:Constant Type="string">Not Applicable</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="decimal" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:Product DecimalPlaces="3">
																					<rul:Product DecimalPlaces="3">
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../CommercialPropertyBurglaryAndRobberyProtectiveSafeguardsTable/CommercialPropertyBurglaryAndRobberyProtectiveSafeguards[1]/@BurglaryAlarmCreditFactor" Order="DataDefInputParamConstant" />
																					</rul:Product>
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Then>
																			<rul:Else>
																				<rul:Product DecimalPlaces="3">
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																				</rul:Product>
																			</rul:Else>
																		</rul:If>
																	</rul:Sum>
																</rul:Then>
																<rul:Else>
																	<rul:Product DecimalPlaces="3">
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BlktSpecialLOIFactor" Order="DataDefInputParamConstant" />
																	</rul:Product>
																</rul:Else>
															</rul:If>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxSpecialRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxSpecialRate" FromParam="MaxSpecialRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxEQCauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="PeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:And>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Yes</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
															<rul:Value Type="integer" FromParam="BlktIDNumParam" />
														</rul:Equal>
													</rul:And>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Max>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:Equal>
																					<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																					<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																				</rul:Equal>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:Or>
																							<rul:Equal>
																								<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																								<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
																							</rul:Equal>
																							<rul:And>
																								<rul:Equal>
																									<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																									<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
																								</rul:Equal>
																								<rul:Equal>
																									<rul:FirstValue Type="string" FromConstant="" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQCovIndicator" Order="DataDefInputParamConstant" />
																									<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
																								</rul:Equal>
																								<rul:Equal>
																									<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
																									<rul:Value Type="integer" FromParam="BlktIDNumParam" />
																								</rul:Equal>
																							</rul:And>
																						</rul:Or>
																					</rul:Test>
																					<rul:Then>
																						<rul:Product DecimalPlaces="3">
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@EQDeductibleFactor" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																							<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="ancestor::CommercialPropertyPersonalProperty/../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																						</rul:Product>
																					</rul:Then>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
																<rul:Constant Type="decimal">0</rul:Constant>
															</rul:Max>
														</rul:Then>
														<rul:Else>
															<rul:If>
																<rul:Test>
																	<rul:And>
																		<rul:Or>
																			<rul:Equal>
																				<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																				<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
																			</rul:Equal>
																			<rul:Equal>
																				<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																				<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
																			</rul:Equal>
																		</rul:Or>
																		<rul:Equal>
																			<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
																			<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
																		</rul:Equal>
																		<rul:Equal>
																			<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
																			<rul:Value Type="integer" FromParam="BlktIDNumParam" />
																		</rul:Equal>
																	</rul:And>
																</rul:Test>
																<rul:Then>
																	<rul:Product DecimalPlaces="3">
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@ManufacturersConsequentialLossAssumptionFactor" Order="DataDefInputParamConstant" />
																		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../../../@MarginClausesFactor" Order="DataDefInputParamConstant" />
																	</rul:Product>
																</rul:Then>
															</rul:If>
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxEQCauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxEQCauseOfLossAdjmtRate" FromParam="MaxEQCauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetSpecialClassCalcsForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBasicGroupICauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupI" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBasicGroupICauseOfLossAdjmtRate" FromParam="MaxBasicGroupICauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBasicGroupIICauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BasicGroupIICauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BGIIDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBasicGroupII" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate" FromParam="MaxBasicGroupIICauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxBroadRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@BroadRate" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorBroad" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBroadRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxBroadRate" FromParam="MaxBroadRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxSpecialRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="UnitNumberParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@UnitNumber" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="UnitNumberParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@SpecialDeductibleByLocationFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@DeductibleFactorSpecial" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxSpecialRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxSpecialRate" FromParam="MaxSpecialRateIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="MaxEQCauseOfLossAdjmtRateIncrementParam">
					<rul:Max>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:And>
												<rul:Or>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
													</rul:Equal>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
													</rul:Equal>
												</rul:Or>
												<rul:Equal>
													<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
													<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
												</rul:Equal>
												<rul:Equal>
													<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
													<rul:Value Type="integer" FromParam="BlktIDNumParam" />
												</rul:Equal>
											</rul:And>
										</rul:Test>
										<rul:Then>
											<rul:Product DecimalPlaces="3">
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQCauseOfLossAdjustment" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@EQDeductibleFactor" Order="DataDefInputParamConstant" />
												<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MarginClausesFactor" Order="DataDefInputParamConstant" />
											</rul:Product>
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxEQCauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					</rul:Max>
				</rul:Arg>
				<rul:Value Type="decimal" ToDataDef="@MaxEQCauseOfLossAdjmtRate" FromParam="MaxEQCauseOfLossAdjmtRateIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetBasicGroupIAvgRateForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
					<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
				</rul:Arg>
				<rul:Product ToDataDef="@BasicGroupIAvgRate" DecimalPlaces="3">
					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
				</rul:Product>
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetBasicGroupIIAvgRateForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
					<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
				</rul:Arg>
				<rul:Product ToDataDef="@BasicGroupIIAvgRate" DecimalPlaces="3">
					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBasicGroupIICauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
				</rul:Product>
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetBroadAvgRateForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
					<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
				</rul:Arg>
				<rul:Product ToDataDef="@BroadAvgRate" DecimalPlaces="3">
					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxBroadRate" Order="DataDefInputParamConstant" />
					<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
				</rul:Product>
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetSpecialAvgRateForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
					<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
				</rul:Arg>
				<rul:Product ToDataDef="@SpecialAvgRate" DecimalPlaces="3">
					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxSpecialRate" Order="DataDefInputParamConstant" />
					<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
				</rul:Product>
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetEQAvgRateForHighestRates" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:WithArgs>
				<rul:Arg Type="decimal" Param="coinsuranceFactorParam">
					<rul:RunRule Type="decimal" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="coinsuranceFactor" ClearCache="true" />
				</rul:Arg>
				<rul:Product ToDataDef="@EQAvgRate" DecimalPlaces="3">
					<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="@MaxEQCauseOfLossAdjmtRate" Order="DataDefInputParamConstant" />
					<rul:Value Type="decimal" FromParam="coinsuranceFactorParam" />
				</rul:Product>
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetPeakSeasonGeneralInformationDetailPremium" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="SetPremium" ClearCache="true" />
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetPeakSeasonLimit" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:Copy Type="integer" ToDataDef="@BlktIDNum" FromDataDef="../../@BlktIDNum" />
			<rul:Constant Type="integer" ToDataDef="@TotalFullValueAndPeakAmount">0</rul:Constant>
			<rul:WithArgs>
				<rul:Arg Type="integer" Param="TotalFullValueAndPeakAmountIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:If>
										<rul:Test>
											<rul:Or>
												<rul:And>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Yes</rul:Constant>
													</rul:Equal>
													<rul:Equal>
														<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
														<rul:Value Type="integer" FromParam="BlktIDNumParam" />
													</rul:Equal>
												</rul:And>
												<rul:And>
													<rul:Or>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
														</rul:Equal>
													</rul:Or>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
													</rul:Equal>
													<rul:Equal>
														<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
														<rul:Value Type="integer" FromParam="BlktIDNumParam" />
													</rul:Equal>
												</rul:And>
											</rul:Or>
										</rul:Test>
										<rul:Then>
											<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullBldgValue" Order="DataDefInputParamConstant" />
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="integer" ToDataDef="@TotalFullValueAndPeakAmount" FromParam="TotalFullValueAndPeakAmountIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="integer" Param="TotalFullValueAndPeakAmountIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:Arg Type="dateTime" Param="ISOSSINodePeriodFromParam">
								<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
									<rul:ForEach AtInputDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
										<rul:ForEach AtInputDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
											<rul:If>
												<rul:Test>
													<rul:Or>
														<rul:And>
															<rul:Equal>
																<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
																<rul:Constant Type="string">Yes</rul:Constant>
															</rul:Equal>
															<rul:Equal>
																<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
																<rul:Value Type="integer" FromParam="BlktIDNumParam" />
															</rul:Equal>
														</rul:And>
														<rul:And>
															<rul:Or>
																<rul:Equal>
																	<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																	<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
																</rul:Equal>
																<rul:Equal>
																	<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../../../../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
																	<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
																</rul:Equal>
															</rul:Or>
															<rul:Equal>
																<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
																<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
															</rul:Equal>
															<rul:Equal>
																<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
																<rul:Value Type="integer" FromParam="BlktIDNumParam" />
															</rul:Equal>
														</rul:And>
													</rul:Or>
												</rul:Test>
												<rul:Then>
													<rul:If>
														<rul:Test>
															<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
														</rul:Test>
														<rul:Then>
															<rul:Sum>
																<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
																	<rul:ForEach AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
																		<rul:If>
																			<rul:Test>
																				<rul:And>
																					<rul:NotEqual>
																						<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																						<rul:Constant Type="dateTime">01/01/0001</rul:Constant>
																					</rul:NotEqual>
																					<rul:IsNotNull>
																						<rul:Value Type="dateTime" FromDataDef="@PeriodFrom" />
																					</rul:IsNotNull>
																				</rul:And>
																			</rul:Test>
																			<rul:Then>
																				<rul:If>
																					<rul:Test>
																						<rul:Equal>
																							<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																							<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																						</rul:Equal>
																					</rul:Test>
																					<rul:Then>
																						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																					</rul:Then>
																				</rul:If>
																			</rul:Then>
																		</rul:If>
																	</rul:ForEach>
																</rul:ForEach>
															</rul:Sum>
														</rul:Then>
														<rul:Else>
															<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
														</rul:Else>
													</rul:If>
												</rul:Then>
											</rul:If>
										</rul:ForEach>
									</rul:ForEach>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="integer" ToDataDef="@TotalFullValueAndPeakAmount" FromParam="TotalFullValueAndPeakAmountIncrementParam" />
			</rul:WithArgs>
			<rul:WithArgs>
				<rul:Arg Type="integer" Param="TotalFullValueAndPeakAmountIncrementParam">
					<rul:Sum>
						<rul:WithArgs>
							<rul:Arg Type="integer" Param="BlktIDNumParam">
								<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
							</rul:Arg>
							<rul:ForEach AtInputDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
								<rul:ForEach AtInputDataDef="CommercialPropertySpecialClassTable/CommercialPropertySpecialClass">
									<rul:If>
										<rul:Test>
											<rul:Or>
												<rul:And>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Yes</rul:Constant>
													</rul:Equal>
													<rul:Equal>
														<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
														<rul:Value Type="integer" FromParam="BlktIDNumParam" />
													</rul:Equal>
												</rul:And>
												<rul:And>
													<rul:Or>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Earthquake Form (CP 10 40)</rul:Constant>
														</rul:Equal>
														<rul:Equal>
															<rul:FirstValue Type="string" FromConstant="" FromDataDef="../../@EQCauseOfLossForm" Order="DataDefInputParamConstant" />
															<rul:Constant Type="string">Earthquake Form (CP 10 28)</rul:Constant>
														</rul:Equal>
													</rul:Or>
													<rul:Equal>
														<rul:FirstValue Type="string" FromConstant="" FromDataDef="@EQCovIndicator" Order="DataDefInputParamConstant" />
														<rul:Constant Type="string">Yes, Included in Blanket</rul:Constant>
													</rul:Equal>
													<rul:Equal>
														<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@EQCauseOfLossCovBlktIDNum" Order="DataDefInputParamConstant" />
														<rul:Value Type="integer" FromParam="BlktIDNumParam" />
													</rul:Equal>
												</rul:And>
											</rul:Or>
										</rul:Test>
										<rul:Then>
											<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullSpecialClassValue" Order="DataDefInputParamConstant" />
										</rul:Then>
									</rul:If>
								</rul:ForEach>
							</rul:ForEach>
						</rul:WithArgs>
						<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@TotalFullValueAndPeakAmount" Order="DataDefInputParamConstant" />
					</rul:Sum>
				</rul:Arg>
				<rul:Value Type="integer" ToDataDef="@TotalFullValueAndPeakAmount" FromParam="TotalFullValueAndPeakAmountIncrementParam" />
			</rul:WithArgs>
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="SetPremium" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence />
	</rul:Rule>
	<rul:Rule Name="ErcProcess" Type="none" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Sequence>
			<rul:RunRule Type="none" FileName="CommercialPropertyPeakSeasonGeneralInformationDetailRules" Rule="ErcRate" ClearCache="true" />
		</rul:Sequence>
	</rul:Rule>
	<rul:Rule Name="coinsuranceFactor" Type="decimal" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:FirstValue Type="decimal" FromConstant="0" FromDataDef="../../@CoinsuranceFactor" Order="DataDefInputParamConstant" />
	</rul:Rule>
	<rul:Rule Name="ppFullValueToUse" Type="integer" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:FirstNonNull Type="integer">
			<rul:WithArgs>
				<rul:Arg Type="integer" Param="BlktIDNumParam">
					<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
				</rul:Arg>
				<rul:Arg Type="dateTime" Param="ISOSSINodePeriodFromParam">
					<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
				</rul:Arg>
				<rul:Arg Type="dateTime" Param="PeriodFromParam">
					<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
				</rul:Arg>
				<rul:ForEach AtDataDef="ancestor::CommercialProperty/CommercialPropertyLocationTable/CommercialPropertyLocation">
					<rul:ForEach AtDataDef="CommercialPropertyStructureTable/CommercialPropertyStructure">
						<rul:ForEach AtDataDef="CommercialPropertyOccupClassTable/CommercialPropertyOccupClass">
							<rul:ForEach AtDataDef="CommercialPropertyPersonalPropertyTable/CommercialPropertyPersonalProperty">
								<rul:If>
									<rul:Test>
										<rul:And>
											<rul:Equal>
												<rul:FirstValue Type="string" FromConstant="" FromDataDef="@IncludedInBlkt" Order="DataDefInputParamConstant" />
												<rul:Constant Type="string">Yes</rul:Constant>
											</rul:Equal>
											<rul:Equal>
												<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@BlktIDNum" Order="DataDefInputParamConstant" />
												<rul:Value Type="integer" FromParam="BlktIDNumParam" />
											</rul:Equal>
										</rul:And>
									</rul:Test>
									<rul:Then>
										<rul:If>
											<rul:Test>
												<rul:Exist AtInputDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance" />
											</rul:Test>
											<rul:Then>
												<rul:ForEach AtDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceTable/CommercialPropertyPeakSeasonLimitOfInsurance">
													<rul:ForEach AtDataDef="CommercialPropertyPeakSeasonLimitOfInsuranceDetailTable/CommercialPropertyPeakSeasonLimitOfInsuranceDetail">
														<rul:If>
															<rul:Test>
																<rul:And>
																	<rul:NotEqual>
																		<rul:Value Type="dateTime" FromParam="ISOSSINodePeriodFromParam" />
																		<rul:Constant Type="dateTime">01/01/0001</rul:Constant>
																	</rul:NotEqual>
																	<rul:IsNotNull>
																		<rul:Value Type="dateTime" FromDataDef="@PeriodFrom" />
																	</rul:IsNotNull>
																</rul:And>
															</rul:Test>
															<rul:Then>
																<rul:If>
																	<rul:Test>
																		<rul:Equal>
																			<rul:FirstValue Type="dateTime" FromConstant="01/01/0001" FromDataDef="@PeriodFrom" Order="DataDefInputParamConstant" />
																			<rul:Value Type="dateTime" FromParam="PeriodFromParam" />
																		</rul:Equal>
																	</rul:Test>
																	<rul:Then>
																		<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullValue" Order="DataDefInputParamConstant" />
																	</rul:Then>
																</rul:If>
															</rul:Then>
														</rul:If>
													</rul:ForEach>
												</rul:ForEach>
											</rul:Then>
											<rul:Else>
												<rul:FirstValue Type="integer" FromConstant="0" FromDataDef="@FullPrsnlPropValue" Order="DataDefInputParamConstant" />
											</rul:Else>
										</rul:If>
									</rul:Then>
								</rul:If>
							</rul:ForEach>
						</rul:ForEach>
					</rul:ForEach>
				</rul:ForEach>
			</rul:WithArgs>
			<rul:Constant Type="integer">0</rul:Constant>
		</rul:FirstNonNull>
	</rul:Rule>
	<rul:Rule Name="ppSpecialRateToUse" Type="decimal" DataDefGroup="CommercialPropertyPeakSeasonGeneralInformationDetail">
		<rul:Constant Type="decimal">0</rul:Constant>
	</rul:Rule>
</rul:Rules>